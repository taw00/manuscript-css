/* CSS for Manuscript Formating v4.0
 *
 * Use this CSS to format your markdown-drafted short story or novel into an
 * approximates of industry standard manuscript formatting.
 * This is useful for:
 * - sharing with others in a format they are familiar with
 * - submitting to critique groups in a professional way
 * - post the manuscript-formated doc on the web for review
 * … all without having to port your draft to a word processing document
 *
 * Supported: Manuscripts formated as …
 * - short and long form documents
 * - narrative and nonnarrative prose
 * - prose and poetry
 * - books, parts, chapters, and scenes/poems
 * - US Letter, A4, eta. for print and digital presentation.
 *
 * Copyright (c) Todd Warner <t0dd@protonmail.com>
 * This work is licensed under Attribution 4.0 International. To view a copy
 * of this license, visit http://creativecommons.org/licenses/by/4.0/
 *
 * The div #vpage class "switches":
 * - default: class="US portrait top-right-marginalia"
 *   If there is no classes are set, those are still the default.  
 *   Others available:
 *   - 'plain', 'vplain', 'vvplain' - these simplify the rendering by removing
 *     fancy things.
 *   - 'US', 'USh', 'A4', 'A5', or 'A6' paper sizes
 *   - 'top-left-marginalia', 'top-right-marginalia', 'top-center-marginalia',  
 *     'bottom-left-marginalia', 'bottom-center-marginalia', 'bottom-right-marginalia',  
 *     'no-marginalia' (if you don't want any header)
 *     and when you set a --m-marginalia variable in your <style> block
 *     it will appear in one of those. You can only use one of those switches.
 *
 * The article #manuscript class "switches":
 * - default: class="short narrative prose"  
 *   If there is no classes are set, those are still the default.  
 *   Others avaiable:
 *   - 'poetry' - if your work is … poetry
 *   - 'long' - if your work is long form prose
 *   - 'nonnarrative' - prose, but if your work is not a narrative work
 *   - 'simple' or 'text-only' - used to present a simplified version (no
 *     first-page metadata and simulated page breaks and such)
 *
 * <style
 *   @import url("url-or-path/to/the/manuscript.css");
 *   :root {
 *     --m-marginalia: "MyLastname / My Short Title / " counter(page);
 *   }
 * </style>
 */

@layer lm-reset-joplin-constants, lm-var-constants, lm-var-defaults, lm-var-permutations, lm-var-theme, lm-user-overrides;

@import                url("./v4.0/m-var.css?rev=2025091205v4");
@import              url("./v4.0/m-reset.css?rev=2025091205v4");
@import               url("./v4.0/m-init.css?rev=2025091205v4");
@import               url("./v4.0/m-core.css?rev=2025091205v4");
@import         url("./v4.0/m-pagination.css?rev=2025091205v4");
@import url("./manuscript-user-overrides.css?rev=2025091205v4");

:root {
    --m-version: 4.0;
}

/*
 * Some override classes
 */

.center-max-content,
.table-of-contents,
.toc {
    width: max-content !important;
    max-width: 100% !important;
    margin-left: auto !important; margin-right: auto !important;
}


/* page-break overrides ------------ */
.force-break-before {
    break-before: page !important;
}
.force-break-after {
    break-after: page !important;
}

/* no-indent ----------------------- */
:is(article,section,div):not(.foothang).no-indent {
    & p,
    & dd,
    & li > p,
    & dd > p,
    & blockquote p {
        text-indent: unset !important;
    }
}

/* foothangs ----------------------- */ 
/* .m-scene or any other major block with a class .foothang
 * will format the paragraphs as a hanging indent */
#manuscript :is(section,div).foothang p {
    padding-left: var(--m-indent-foothang);
    text-indent: calc(var(--m-indent-foothang) * -1);
}

